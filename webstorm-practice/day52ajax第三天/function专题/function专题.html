<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
//////////////////////////////////////////////////////
        var a = 0;
        function fn1() {
            a++;
        }
//        函数只是声明,而没有调用,函数内的代码并没有执行,
//          只有调用的时候才会执行函数里面的代码
//        所以a++没有执行,a==0
        console.log(a);//0
//////////////////////////////////////////////////////
        var b = 0;
        function fn2() {
            b++;
        }
        fn2();
//        fn函数被调用,函数里面的代码执行了,b++执行了,b==1
        console.log(b);//1
//////////////////////////////////////////////////////
        for(var i = 0; i < 3; i++) {
            console.log("hello world");
        }
//        javaScript中没有块作用域,for循环 if语句等声明的变量为全局变量
//        可以在for循环的外面调用i变量
        console.log(i);//3
///////////////////////函数的闭包/////////////////////////
//        函数的闭包
        function fn3() {
            var n = 1;
            var fn = function () {
                n++;
                console.log(n);
            }
            return fn;
        }
//        fn4函数获取到fn函数的同时也获取到了fn的作用域,获取到了fn的环境
//        fn4此时仍然在fn3函数的作用域里面,仍然连接着fn3的作用域
        var fn4 = fn3();//调用fn3函数,函数里面的代码被执行,n==1
        fn4();//2
        fn4();//3
        fn4();//4

////////////////////函数未被调用,变量i被跳过//////////////////////////////
//        data[0] data[1] data[2]不仅获取到了匿名函数,同时也获取到了作用域
//        此时data[i]仍然连接着for循环的作用域
        var data = [];
        for (var i = 0; i < 3; i++) {
//            data[i]获取到了匿名函数,但函数并没有被调用,匿名函数里面的代码没有被执行
//            变量i并没有确定具体的数值,传递给data[i]时只是作为变量i被传递的
//            只有函数被调用的时候,代码才被执行,那时候才明确i具体的数值
//            效果等同于:data[0]=function(){console.log(i)};
//            而不是data[0]=function(){console.log(0)};
            data[i] = function () {//函数内的代码被直接跳过,直至函数被调用
                console.log(i);//函数未被调用,代码就没有被执行,i的数值就没有确定
            }
        }
//        for循环执行完毕后i==3
//        调用函数的时候,函数里面的代码被执行,变量i的值此时才被确定,而此时i==3
        data[0]();//3
        data[1]();//3
        data[2]();//3

//只要函数不被调用,函数里面的代码就可以无视.代码由上而下执行的时候,会跳过函数里面的代码.

///////////////////////////函数被调用,变量i的值是确定的/////////////////////////////////////
//       函数被调用,里面的代码被执行,i作为实参被传入函数替换形参attr
//        由于函数被调用了,被调用的时候i的值是确定的,所以传给data[i]的时候i的值是确定的
//        效果等同于:data[0]=function(){console.log(0)};
        var data = [];
        for (var i = 0; i < 3; i++) {
            data[i] = (function (attr) {
                return function () {
                    console.log(attr);
                }
            })(i);
        }
        data[0]();//0
        data[1]();//1
        data[2]();//2
    </script>
</head>
<body>

</body>
</html>